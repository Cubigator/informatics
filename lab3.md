Для начала необходимо просто установить 3 виртуальных машиины - A, B, C:
![image](https://github.com/user-attachments/assets/81392480-096e-4ec5-8a63-0f1f77d4a405)

По умолчанию в VirtualBox, у каждой сети есть сетевой адаптер с типом подключения NAT, который позволяет выходить в интернет через хост-ОС.
Нам нужно настроить сетевой доступ между всеми машинами (A, B, C), и запретить сетевой доступ из машины B в машину C.
Для организации сети подойдет сеть NAT.
Создадим новую сеть NAT (имя - NatNetwork):
![image](https://github.com/user-attachments/assets/16addc67-4170-4f51-84f6-6d3da0c59c06)

Далее в настройках каждой машины в разделе ```Сеть``` выбираем тип подключения ```Сеть NAT``` и имя ```NatNetwork```:
![image](https://github.com/user-attachments/assets/497e9250-75a6-4d27-928a-93d9939c9356)

После этих шагов наши машины A, B и C имеет доступ в интернет и объединены в единую сеть. Проверим это:
Выполняем команду ping <ip> на каждой машине:
![image](https://github.com/user-attachments/assets/cdb38599-2bc6-4672-8b4d-ae88584423b3)
Везде получаем ответ, значит доступ в интернет есть.
Таким же образом проверяем сеть между машинами.
Узнаем ip адрес каждой машины в сети, с помощью команды:
```
ip -br a
```
У нас получились следующие ip-адреса:
A: 10.0.2.6
B: 10.0.2.5
C: 10.0.2.15

С помощью ```ping``` так же проверяем доступ между машинами:
Из A в B:
![image](https://github.com/user-attachments/assets/0f8b85c7-05d9-4b6d-8f5e-bc5c1e10eed0)
Из A в C:
![image](https://github.com/user-attachments/assets/e22858ac-3e28-4cd6-9c38-248db3df1a27)
Из B в C:
![image](https://github.com/user-attachments/assets/fdecf5c7-ddd0-4142-a7e5-cfe58ae6097a)
И точно так же наоборот

Все машины соединены друг с другом, однако нам нужно запретить доступ из машины B в машину C.
Это можно сделать с помощью следующей команды:
```
sudo iptables -A INPUT -s <ip> -j DROP
```
![image](https://github.com/user-attachments/assets/84e985a9-d3eb-4e18-994e-a80a82bfc261)
Данная команда отклоняет все входящие пакеты с адреса ```<ip>```
Как видно на скриншоте, после выполнения этой команды на машине B, у нас не получается обратиться к машине C.
Проверим, что и доступа с машины C в машину B тоже нет:
![image](https://github.com/user-attachments/assets/ba272318-1090-4dfa-aa8d-4c28d4ea8443)


